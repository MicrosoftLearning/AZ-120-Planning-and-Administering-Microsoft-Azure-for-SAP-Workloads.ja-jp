# デモ: Linux 仮想マシンへの接続

このデモでは、Linux マシンを作成して SSL でアクセスします。

>**注:** 接続できるようにポート 22 が開いていることを確認します。 

## SSH キーの作成

1. PuTTY ツールをダウンロードします。このツールには [PuTTYgen](https://putty.org/) が含まれています。 
2. インストール したら、**PuTTYgen**プログラムを見つけて開きます。
3. 「**パラメーター**」 オプション グループで 「**RSA**」 を選択します。
4. **接続** ボタンをクリックします。
5. ウィンドウ内の空白領域の周りにマウスを移動すると、ランダムが生成されます。
6. 公開キーのテキストをコピー して、**承認済みキー ファイルに貼り付けます**。
7. 必要に応じて、 **キーパスフレーズ**を指定し、 **パスフレーズを確認**します。プライベート SSH キーを使用して VMへ認証すると、パスフレーズの入力を求めるメッセージが表示されます。パスフレーズなしでは、誰かがあなたの秘密キーを取得した場合、そのキーを使用するどの VM またはサービスにもログインされてしまいます。パスフレーズを作成することをお勧めします。ただし、パスフレーズを忘れると、それを回復する方法はありません。
8. 「**秘密キーを保存**」 をクリックします。
9. 場所とファイル名を選択し、「**保存**」 をクリックします。VM にアクセスするには、このファイルが必要です。 

## Linux マシンを作成して公開 SSH キーを割り当てる

1. Portal にお客様が選択した Linux マシンを作成します。
2. (**パスワード**の代わりに) **認証タイプ**の **SSH 公開キー**を選択します。
3. **ユーザー名**を指定します。
4. PuTTY から公開 SSH キーを 「**SSH 公開キー**」 テキスト エリアに貼り付きます。キーがチェックマークで検証されていることを確認します。 
5. VM を作成します。デプロイを待ちます。
6. 実行中の VM にアクセスします。 
7. 「**概要**」 ブレードから、「**接続**」 をクリックします。
8. ユーザーとパブリック IP アドレスを含むログイン情報をメモします。

## SSH を使用してサーバーにアクセスする

1. **PuTTY**ツールを開きます。
2. ユーザー名が VM を作成する時に割り当てられた値で、且つ、パブリックアドレスが Azure Portal から取得した値である場合、**username@publicIpAddress** を入力します。
3. **ポート**に **22** を指定します。
4. 「**接続タイプ**」 オプション グループで 「**SSH**」 を選択します。
5. カテゴリ パネルで 「**SSH**」 に移動し、「**Auth**」 をクリックします。
6. 「**認証の秘密キー ファイル**」 の横にある「**参照**」 ボタンをクリックします。
7. SSH キーの生成時に保存された秘密キー ファイルへ移動し、「**開く**」 をクリックします。
8. PuTTY のメイン画面から 「**開く**」 をクリックします。
9. これによって、サーバー コマンド ラインに接続されます。 
